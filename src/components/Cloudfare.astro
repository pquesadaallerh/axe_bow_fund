---
/**
 * Cloudflare Web Analytics
 * Usage: <CloudflareAnalytics token="YOUR_TOKEN" />
 */
const { token } = Astro.props as { token: string };

if (!token) {
  throw new Error("CloudflareAnalytics: missing token prop");
}
---

<script
  defer
  src="https://static.cloudflareinsights.com/beacon.min.js"
  data-cf-beacon={JSON.stringify({ token })}
/>
